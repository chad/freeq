<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Known Limitations — freeq</title>
  <style>
    :root { --bg: #0c0c0f; --fg: #e4e4e7; --fg-dim: #71717a; --accent: #818cf8; --surface: #18181b; --border: #27272a; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { background: var(--bg); color: var(--fg); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; line-height: 1.7; }
    .container { max-width: 800px; margin: 0 auto; padding: 2rem 1.5rem 4rem; }
    .nav { display: flex; align-items: center; gap: 1rem; padding: 1rem 0 2rem; border-bottom: 1px solid var(--border); margin-bottom: 2rem; }
    .nav a { color: var(--accent); text-decoration: none; font-size: 14px; }
    .nav a:hover { text-decoration: underline; }
    .nav .brand { font-weight: 700; font-size: 18px; color: var(--accent); }
    h1 { font-size: 2rem; margin: 0 0 1rem; color: var(--fg); }
    h2 { font-size: 1.4rem; margin: 2rem 0 0.75rem; color: var(--fg); border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; }
    h3 { font-size: 1.1rem; margin: 1.5rem 0 0.5rem; color: var(--fg); }
    p { margin: 0.75rem 0; }
    a { color: var(--accent); }
    code { background: var(--surface); padding: 0.15em 0.4em; border-radius: 4px; font-size: 0.9em; font-family: 'SF Mono', 'Fira Code', monospace; }
    pre { background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; }
    pre code { background: none; padding: 0; font-size: 0.85em; }
    table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
    th, td { text-align: left; padding: 0.5rem 0.75rem; border: 1px solid var(--border); }
    th { background: var(--surface); font-weight: 600; }
    ul, ol { padding-left: 1.5rem; margin: 0.5rem 0; }
    li { margin: 0.25rem 0; }
    blockquote { border-left: 3px solid var(--accent); padding-left: 1rem; color: var(--fg-dim); margin: 1rem 0; }
    hr { border: none; border-top: 1px solid var(--border); margin: 2rem 0; }
    strong { color: #fff; }
    img { max-width: 100%; }
  </style>
</head>
<body>
  <div class="container">
    <nav class="nav">
      <span class="brand">freeq</span>
      <a href="/">← Back to app</a>
      <a href="/docs/">All docs</a>
    </nav>
    <h1>Known Limitations</h1>
<h2>Authentication</h2>
<ul>
<li><strong>DID method support</strong>: Only <code>did:plc</code> and <code>did:web</code> are supported.
Other DID methods (e.g. <code>did:key</code>, <code>did:ion</code>) are not implemented.</li>
<li><strong>Key rotation</strong>: If a user rotates their DID document keys, existing
sessions are not invalidated. The server does not poll for key changes.</li>
<li><strong>Handle verification</strong>: The server resolves handles to DIDs at auth time
but does not re-verify handles periodically. If a handle changes ownership,
the server won&#39;t notice until the next authentication.</li>
</ul>
<h2>IRC Protocol</h2>
<ul>
<li><strong>No server operators (OPER)</strong>: There is no concept of IRC operators
(IRCops). Server administration is done via CLI flags and config.</li>
<li><strong>No hostname cloaking</strong>: All users appear as <code>nick!user@host</code> with a
literal <code>host</code> placeholder. Real IP addresses are not exposed, but
cloaking (vhosts) is not implemented.</li>
<li><strong>No user limits (+l)</strong>: Channel user limits are not implemented.</li>
<li><strong>No secret/private channels (+s/+p)</strong>: Channels always appear in LIST.</li>
<li><strong>No WALLOPS, LINKS, STATS</strong>: Server-to-server informational commands
are not implemented.</li>
<li><strong>USERHOST is simplified</strong>: Returns <code>nick@host</code> with a generic hostname
rather than the real connected host.</li>
</ul>
<h2>S2S Federation</h2>
<ul>
<li><strong>Ban propagation</strong>: Bans set on one server are not automatically
enforced on federated peers. Each server enforces its own ban list.
The CRDT tracks bans, but enforcement is local only.</li>
<li><strong>Invite-only bypass</strong>: Remote JOINs from S2S peers do not check +i
or bans. The remote server is trusted to enforce its own policies.</li>
<li><strong>Founder race condition</strong>: If two servers simultaneously create the
same channel, both may assign different founders. The CRDT resolves
this deterministically after sync (first-write-wins in causal order),
but there is a brief inconsistency window.</li>
<li><strong>No authorization-on-write for DID ops</strong>: A rogue federated server
could grant DID ops to arbitrary users. There is no cryptographic
verification that the granting server had authority.</li>
<li><strong>No S2S authentication</strong>: Any iroh endpoint can connect as a peer
unless <code>--s2s-allowed-peers</code> is configured. Open federation is the
default.</li>
</ul>
<h2>Persistence</h2>
<ul>
<li><strong>No message retention by age</strong>: Message pruning is count-based only
(<code>--max-messages-per-channel</code>). There is no <code>--message-retention-days</code>.</li>
<li><strong>No full-text search</strong>: SQLite FTS5 is not wired up. Message search
would require a separate index.</li>
<li><strong>Single-server SQLite</strong>: The database is a single SQLite file. There
is no replication or multi-server persistence (state sync happens at
the CRDT/S2S layer instead).</li>
</ul>
<h2>E2EE</h2>
<ul>
<li><strong>No forward secrecy</strong>: Channel encryption keys are derived from a
static passphrase. There is no ratcheting or key rotation.</li>
<li><strong>Key distribution is manual</strong>: Users must share the channel passphrase
out-of-band. There is no key exchange protocol.</li>
<li><strong>ENC2 group size</strong>: DID-based group encryption requires all members&#39;
DIDs to derive the group key. Very large groups would have slow key
derivation.</li>
</ul>
<h2>Transports</h2>
<ul>
<li><strong>WebSocket is uncompressed</strong>: No per-message compression.</li>
<li><strong>iroh relay dependency</strong>: iroh uses relay servers for NAT traversal.
If iroh&#39;s relay infrastructure is unavailable, direct connections may
fail for users behind restrictive NATs.</li>
</ul>
<h2>TUI Client</h2>
<ul>
<li><strong>Not a full IRC client</strong>: The TUI is a reference implementation for
testing the SASL mechanism. It lacks many features expected of a
production IRC client (DCC, scripts, multiple networks, etc.).</li>
<li><strong>No mouse support</strong>: Terminal mouse events are not handled.</li>
</ul>
<h2>Plugin System</h2>
<ul>
<li><strong>Compiled-in only</strong>: Plugins must be compiled into the server binary.
There is no dynamic loading (shared libraries). New plugins require
a rebuild.</li>
<li><strong>No async hooks</strong>: Plugin hooks are synchronous. Long-running plugin
logic should spawn tasks rather than blocking the hook.</li>
<li><strong>Limited hook set</strong>: Currently only <code>on_connect</code>, <code>on_auth</code>, <code>on_join</code>,
<code>on_message</code>, and <code>on_nick_change</code> are available.</li>
</ul>
  </div>
</body>
</html>
